<admin-domain>
  <header class="page-header">
    <h1>{{stock.bottle.wine | wineRenderer}}</h1>
    <h2>{{stock.bottle.format | formatRenderer}}</h2>
  </header>
  <form name="form" class="form">
    <error-div errors="errors"></error-div>
    <fieldset>
      <legend>Détails</legend>
      <cellar form="form" cellar="stock.cellar" input-required="true">
        <span class="help-block" ng-if="form.cellar.$error.required">Veuillez saisir une cave</span>
      </cellar>
      <wine form="form" wine="stock.bottle.wine" input-required="true">
        <span class="help-block" ng-if="form.wine.$error.required">Veuillez saisir un vin</span>
      </wine>
      <format form="form" format="stock.bottle.format" input-required="true">
        <span class="help-block" ng-if="form.format.$error.required">Veuillez saisir un format</span>
      </format>
      <div class="form-group" ng-class="{'has-error': form.quantity.$invalid}">
        <label class="control-label" for="quantity">Quantité</label>
        <input class="form-control" id="quantity" name="quantity" type="number" ng-model="stock.quantity" placeholder="Quantité" />
        <span class="help-block" ng-if="form.quantity.$error.required">Veuillez saisir une quantité</span>
        <span class="help-block" ng-if="form.quantity.$error.BusinessError_STOCK_00002">La quantité doit être positive ou nulle</span>
      </div>
    </fieldset>
    <input type="submit" class="btn btn-primary" value="Sauvegarder" ng-click="save()" ng-disabled="form.$invalid" />
    <input type="submit" class="btn btn-default" value="Annuler" ng-click="cancel()" />
  </form>
</admin-domain>
